\begin{figure}[ht]
\centering
\begin{tikzpicture}[
    every node/.style={align=center, minimum height=1em, minimum width=1cm,node distance=0.7cm},
]

%Nodes
\node[entity]      (teamswa)        {active teams with WA adoption};
\node[entity]      (teams)          [above=of teamswa] {team basic info};
\node[entity]      (snapshots)       [left=of teams] {team snapshots};
\node[entity]       (mau)           [right=of teams] {MAU};
\node[entity]      (ctwa)       [below=of teamswa] {cycle times with WA adoption};
\node[entity]      (cycletimes)       [left=of ctwa]     {cycle times};
\node[entity]      (adoption)       [left=of snapshots] {WA adoption};
\node[entity, fill=gray!20]       (lm)        [below=of ctwa] {linear model input data};

%Lines
\draw[->] (cycletimes.east) -- (ctwa.west);
\draw[->] (ctwa.south) -- (lm.north);
\draw[->] (teamswa.south) -- (ctwa.north);
\draw[->] (teams.south) -- (teamswa.north);
\draw[->] (snapshots.south) -- (teamswa.north);
\draw[->] (mau.south) -- (teamswa.north);
\draw[->] (adoption.south) -- (teamswa.north);

\end{tikzpicture}
\caption{Data flow in BigQuery}
\label{fig:dataFlow}
\end{figure}